(window.webpackJsonpwebShellClient=window.webpackJsonpwebShellClient||[]).push([[3],{44:function(i,n,t){"use strict";t.r(n),t.d(n,"UniteManager",(function(){return l}));var e=t(8);class l{constructor(){this.signinCallback=async()=>this.getUser(),this.signinRedirect=async({state:i})=>{const n=i.redirectUrl||window.location.href;return new Promise(i=>{this.redirectToUniteLoginStandalonePage(n),i()})},this.signoutRedirect=async({state:i})=>{const n=await this.getUnite();return new Promise((t,e)=>{var l;null===(l=null==n?void 0:n.session)||void 0===l||l.logout(()=>{i.redirectUrl?window.location.assign(i.redirectUrl):i.reload&&window.location.reload(),t()},e)})},this.signoutCallback=async()=>{const i=await this.getUnite();return new Promise((n,t)=>{var e;null===(e=null==i?void 0:i.session)||void 0===e||e.logout(n,t)})},this.getUser=async()=>{const i=await this.getUniteCredential(),n=await this.getUserProfile();return Object.assign(Object.assign({},i),{profile:n})},this.getUserState=async i=>{const n=await this.getUnite();return new Promise((t,e)=>{var l,o;null===(o=null===(l=n.api)||void 0===l?void 0:l.user)||void 0===o||o.getState(i,t,e)})},this.getVisitData=e.b,this.getUniteCredential=async()=>{const i=await this.getUnite();return new Promise((n,t)=>{null==i||i.session.getCredential(n,t)})},this.getUniteProfile=async()=>{const i=await this.getUnite();return new Promise((n,t)=>{var e;null===(e=null==i?void 0:i.session)||void 0===e||e.getUserProfile((i,t)=>{n([i,t])},t)})},this.getAccessToken=async()=>{const i=await this.getUniteCredential();return null==i?void 0:i.access_token},this.getUnite=e.a,this.getUserProfile=async()=>{const i=await this.getUniteProfile();if(i)return n=i[0],t=i[1],{avatarUrl:(null==n?void 0:n.avatar_url)||(null===(l=null===(e=null==n?void 0:n.entity)||void 0===e?void 0:e.avatar)||void 0===l?void 0:l.fullUrl)||(null==n?void 0:n.avatar),firstName:(null==n?void 0:n.given_name)||(null===(o=null==n?void 0:n.entity)||void 0===o?void 0:o.firstName)||(null===(s=null===(a=null==n?void 0:n.name)||void 0===a?void 0:a.latin)||void 0===s?void 0:s.given),altFirstName:(null===(r=null===(d=null==n?void 0:n.name)||void 0===d?void 0:d.kana)||void 0===r?void 0:r.given)||(null===(u=null===(v=null==n?void 0:n.name)||void 0===v?void 0:v.alternate)||void 0===u?void 0:u.given)||(null===(c=null==n?void 0:n.entity)||void 0===c?void 0:c.jpFirstNameKana),altLastName:(null===(h=null===(g=null==n?void 0:n.name)||void 0===g?void 0:g.kana)||void 0===h?void 0:h.family)||(null===(w=null===(m=null==n?void 0:n.name)||void 0===m?void 0:m.alternate)||void 0===w?void 0:w.family)||(null===(U=null==n?void 0:n.entity)||void 0===U?void 0:U.jpLastNameKana),lastName:(null==n?void 0:n.family_name)||(null===(b=null==n?void 0:n.entity)||void 0===b?void 0:b.lastName)||(null===(f=null===(y=null==n?void 0:n.name)||void 0===y?void 0:y.latin)||void 0===f?void 0:f.family),email:(null==n?void 0:n.email)||(null===(P=null===(p=null==n?void 0:n.entity)||void 0===p?void 0:p.account)||void 0===P?void 0:P.email)||(null===(C=null===(k=null==n?void 0:n.emails)||void 0===k?void 0:k.primary)||void 0===C?void 0:C.email),mobileNumber:(null===(N=null==n?void 0:n.entity)||void 0===N?void 0:N.mobileNumber)||(null===(T=null===(S=null==n?void 0:n.phones)||void 0===S?void 0:S.mobile)||void 0===T?void 0:T.phone),upmId:(null==n?void 0:n.sub)||(null===(L=null===(j=null==n?void 0:n.entity)||void 0===j?void 0:j.account)||void 0===L?void 0:L.id)||(null==n?void 0:n.upmId),userType:t};var n,t,e,l,o,a,s,d,r,v,u,c,g,h,m,w,U,b,y,f,p,P,k,C,N,S,T,j,L},this.getUser.bind(this),this.getUserProfile.bind(this),this.getUserState.bind(this),this.getAccessToken.bind(this),this.getVisitData.bind(this),this.getUnite.bind(this),this.getUniteCredential.bind(this),this.getUniteProfile.bind(this),this.signinCallback.bind(this),this.signinRedirect.bind(this),this.signoutCallback.bind(this),this.signoutRedirect.bind(this)}redirectToUniteLoginStandalonePage(i){window.location.assign(`https://www.nike.com${(()=>{const i=window.webShellClient.locale.get().cloudUrlFragment;return i?`/${i}/`:"/"})()}member/profile/login?continueUrl=${i}`)}}}}]);
//# sourceMappingURL=3.chunk.b06a94.js.map