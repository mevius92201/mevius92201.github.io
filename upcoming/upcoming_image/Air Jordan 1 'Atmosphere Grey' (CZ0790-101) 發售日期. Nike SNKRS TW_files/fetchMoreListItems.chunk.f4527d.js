(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"./src/actions/fetch-more-list-items.js":function(e,t,r){"use strict";r.r(t);var n=r("../../.yarn/cache/@babel-runtime-npm-7.16.7-62d4d1151f-47912f0aaa.zip/node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n),i=r("../../.yarn/cache/@babel-runtime-npm-7.16.7-62d4d1151f-47912f0aaa.zip/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),l=r.n(i),a=r("../../.yarn/__virtual__/@nike-wishlist-redux-virtual-6af140cdf8/0/cache/@nike-wishlist-redux-npm-3.0.14-2da5fde388-80eedf8d94.zip/node_modules/@nike/wishlist-redux/es/constants.js"),s=r("../../.yarn/__virtual__/@nike-wishlist-redux-virtual-6af140cdf8/0/cache/@nike-wishlist-redux-npm-3.0.14-2da5fde388-80eedf8d94.zip/node_modules/@nike/wishlist-redux/es/selectors.js"),d=r("./src/constants.js"),c=r("./src/selectors/get-after-anchor.js"),u=r("./src/selectors/get-current-user.js"),v=r("./src/actions/handle-errors.js"),p=r("./src/graphql-client.js"),f=r("./src/get-shell-locale.js");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.first,r=void 0===t?1:t,n=e.after,o=e.versionedQuery,i=l()(e,["first","after","versionedQuery"]);return function(e,t){var l,m,b,j,h=window.NikeShop,y=h.internalStore.getState(),O=null==h||null===(l=h.internalStore)||void 0===l?void 0:l.dispatch,_=Object(u.default)(y),g=_.token,S=_.isLoggedIn,I=void 0!==n?n:Object(c.default)(),w=null===(m=h.get())||void 0===m||null===(b=m.list)||void 0===b?void 0:b.id,C=t(),E=null===(j=Object(f.default)().country)||void 0===j?void 0:j.toUpperCase();if(S&&null!==I&&w){var R,k,P={isDefault:!0};return e({type:a.LOAD_MORE_WISHLIST_START,payload:{id:w,first:r,after:n}}),Object(p.default)({versionedQuery:o||"getpaginatedlistitems/v3",method:"POST",token:g,callerId:(null==i?void 0:i.callerId)||(null==i?void 0:i.appName)||(null===(R=window)||void 0===R||null===(k=R.NikeShop)||void 0===k?void 0:k.version),variables:{country:E,id:w,first:r,after:I}}).then((function(r){var n,o,i,l,u,v,p,f,m,b,j,h,y,_,g,S,I,w,C,R,k,T,A,D=_objectSpread(_objectSpread({},P),{},{country:E,id:null==r||null===(n=r.data)||void 0===n||null===(o=n.list)||void 0===o?void 0:o.id,items:null==r||null===(i=r.data)||void 0===i||null===(l=i.list)||void 0===l?void 0:l.items});(e({type:a.LOAD_MORE_WISHLIST_SUCCESS,payload:_objectSpread(_objectSpread({},P),{},{list:D||{},id:null==r||null===(u=r.data)||void 0===u||null===(v=u.list)||void 0===v?void 0:v.id,items:(null==r||null===(p=r.data)||void 0===p||null===(f=p.listItems)||void 0===f?void 0:f.objects)||[],pages:(null==r||null===(m=r.data)||void 0===m||null===(b=m.listItems)||void 0===b?void 0:b.pages)||{},totalItemsCount:null==r||null===(j=r.data)||void 0===j||null===(h=j.listItems)||void 0===h?void 0:h.totalItemsCount,errors:(null==r||null===(y=r.data)||void 0===y?void 0:y.errors)||[]})}),Object(s.getWishlistId)(t()))||e({type:a.INITIALIZE_WISHLIST_SUCCESS,payload:_objectSpread(_objectSpread({},P),{},{id:null==r||null===(S=r.data)||void 0===S||null===(I=S.list)||void 0===I?void 0:I.id,list:D||{},items:(null==r||null===(w=r.data)||void 0===w||null===(C=w.listItems)||void 0===C?void 0:C.objects)||[],pages:(null==r||null===(R=r.data)||void 0===R||null===(k=R.listItems)||void 0===k?void 0:k.pages)||{},totalItemsCount:(null==r||null===(T=r.data)||void 0===T||null===(A=T.listItems)||void 0===A?void 0:A.totalItemsCount)||0})});return O({type:d.UPDATE_ENTITIES,payload:{listItems:null==r||null===(_=r.data)||void 0===_||null===(g=_.listItems)||void 0===g?void 0:g.objects,list:D}}),_objectSpread(_objectSpread({},r),{},{hasItemsRemaining:!isNaN(Object(c.default)())})}),(function(t){var r,n=Object(s.getWishlist)(C);return e({type:a.LOAD_MORE_WISHLIST_FAILURE,error:!0,payload:{id:w,items:(null==n||null===(r=n.listItems)||void 0===r?void 0:r.objects)||[],pages:(null==n?void 0:n.pages)||{},totalItemsCount:(null==n?void 0:n.totalItemsCount)||0}}),O(Object(v.default)({service:"buy/list_items/v1",error:t})),t}))}return Promise.resolve(e({type:"TRACK_NOOP",meta:{query:"onScrollLoadMoreListItems"}}))}}},"./src/actions/handle-errors.js":function(e,t,r){"use strict";r.r(t);var n=r("../../.yarn/cache/@nike-cart-constants-npm-2.10.0-a5bfbd419e-234559d4ee.zip/node_modules/@nike/cart-constants/es/index.js"),o=r("./src/actions/on-cart-fetch-failure.js"),i=r("./src/actions/on-fetch-failure.js"),l=r("./src/constants.js");t.default=function handleErrors(e){var t=e.service,r=e.error,a=e.response;return function(e,s){var d=r.errors,c=r.data;return d&&d.length?d.forEach((function(d){var u=d.message,v=d.crcCode,p=d.code,f=d.field;if(v&&p!==l.GRAPHQL_ERROR_CODE){var m,b,j,h,y,O,_;if(t===n.SERVICE_FETCH_CART_CARTS)return e(Object(o.default)({code:p,error:{message:u,field:f},crcCode:v})),a;var g=s(),S=null===(m=g[l.SHOP_STATE_KEY])||void 0===m||null===(b=m.normalized)||void 0===b||null===(j=b.result)||void 0===j?void 0:j.cart,I=(null===(h=g[l.SHOP_STATE_KEY])||void 0===h||null===(y=h.normalized)||void 0===y||null===(O=y.cart)||void 0===O||null===(_=O[S])||void 0===_?void 0:_.items)||[],w=I[1===I.length?0:null==f?void 0:f.split("/")[2]];return e(Object(i.default)({service:t,code:p,crcCode:v,field:f,itemId:w,data:c,message:u}))}return p===l.GRAPHQL_ERROR_CODE?e({type:l.GRAPHQL_ERROR_CODE,payload:d}):e({type:"UNKNOWN_ERROR",payload:{service:t,error:r}})})):e(Object(i.default)({service:t,message:(null==r?void 0:r.message)||"Unknown failure",code:null==r?void 0:r.code,crcCode:null==r?void 0:r.crcCode,data:c}))}}},"./src/actions/on-cart-fetch-failure.js":function(e,t,r){"use strict";r.r(t);var n=r("../../.yarn/cache/@nike-cart-constants-npm-2.10.0-a5bfbd419e-234559d4ee.zip/node_modules/@nike/cart-constants/es/index.js");t.default=function onCartFetchFailure(e){var t=e.error,r=e.crcCode,o=e.data,i=e.code;return{type:n.FETCH_CARTS_FAILURE,meta:{service:n.SERVICE_FETCH_CART_CARTS},error:!0,payload:{error:t,crcCode:r,data:o,code:i}}}},"./src/actions/on-fetch-failure.js":function(e,t,r){"use strict";r.r(t);var n=r("./src/constants.js");t.default=function onFetchFailure(e){var t=e.service,r=e.message,o=e.crcCode,i=e.data,l=e.code,a=e.field,s=e.itemId;return{type:n.ON_FETCH_FAILURE,meta:{service:t},error:!0,payload:{message:r,crcCode:o,data:i,code:l,field:a,itemId:s}}}},"./src/graphql-client.js":function(e,t,r){"use strict";r.r(t);var n=r("../../.yarn/cache/@babel-runtime-npm-7.16.7-62d4d1151f-47912f0aaa.zip/node_modules/@babel/runtime/helpers/defineProperty.js"),o=r.n(n),i=r("../../.yarn/cache/@nike-graphql-fetch-npm-3.0.3-090da7e235-8bd9925197.zip/node_modules/@nike/graphql-fetch/es/index.js"),l=r("../../.yarn/cache/@nike-fetch-client-npm-1.13.1-ef5acec45d-ba46c4cc1f.zip/node_modules/@nike/fetch-client/es/fetch-client.js"),a=r("../../.yarn/cache/@nike-ux-tread-dotcom-constants-npm-1.5.0-674cb7ec59-bca76993e9.zip/node_modules/@nike/ux-tread-dotcom-constants/es/index.js");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.default=function graphqlClient(e){var t;return Object(i.default)(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({fetchClient:l.default,url:"https://api.nike.com/cic/grand/v1/graphql",callerId:null===(t=window.NikeShop)||void 0===t?void 0:t.getVersion(),appId:a.DOTCOM_UX_ID},e))}},"./src/selectors/get-after-anchor.js":function(e,t,r){"use strict";r.r(t);var n=r("../../.yarn/cache/query-string-npm-5.1.1-86edac70d6-4ac760d977.zip/node_modules/query-string/index.js"),o=r.n(n);t.default=function getAfterAnchor(){var e,t,r,n,i,l;return function getAnchor(e){var t;return parseInt(null===o.a||void 0===o.a||null===(t=o.a.parse(e))||void 0===t?void 0:t.anchor,10)}(null===(e=window)||void 0===e||null===(t=e.NikeShop)||void 0===t||null===(r=t.store)||void 0===r||null===(n=r.getState())||void 0===n||null===(i=n["@wishlist"])||void 0===i||null===(l=i.pages)||void 0===l?void 0:l.next)}}}]);
//# sourceMappingURL=fetchMoreListItems.chunk.f4527d.js.map