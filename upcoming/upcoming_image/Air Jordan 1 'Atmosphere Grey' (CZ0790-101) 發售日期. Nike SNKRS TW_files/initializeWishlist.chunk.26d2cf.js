(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{"../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/index.js":function(e,t,n){var r=n("../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/v1.js"),i=n("../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/v4.js"),o=i;o.v1=r,o.v4=i,e.exports=o},"../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function bytesToUuid(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},"../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/lib/rng-browser.js":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function whatwgRNG(){return n(r),r}}else{var i=new Array(16);e.exports=function mathRNG(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},"../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/v1.js":function(e,t,n){var r,i,o=n("../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/lib/rng-browser.js"),d=n("../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/lib/bytesToUuid.js"),s=0,a=0;e.exports=function v1(e,t,n){var l=t&&n||0,c=t||[],u=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==u||null==f){var p=o();null==u&&(u=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var v=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:a+1,b=v-s+(m-a)/1e4;if(b<0&&void 0===e.clockseq&&(f=f+1&16383),(b<0||v>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=v,a=m,i=f;var h=(1e4*(268435455&(v+=122192928e5))+m)%4294967296;c[l++]=h>>>24&255,c[l++]=h>>>16&255,c[l++]=h>>>8&255,c[l++]=255&h;var y=v/4294967296*1e4&268435455;c[l++]=y>>>8&255,c[l++]=255&y,c[l++]=y>>>24&15|16,c[l++]=y>>>16&255,c[l++]=f>>>8|128,c[l++]=255&f;for(var j=0;j<6;++j)c[l+j]=u[j];return t||d(c)}},"../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/v4.js":function(e,t,n){var r=n("../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/lib/rng-browser.js"),i=n("../../.yarn/cache/uuid-npm-3.4.0-4fd8ef88ad-58de2feed6.zip/node_modules/uuid/lib/bytesToUuid.js");e.exports=function v4(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var d=(e=e||{}).random||(e.rng||r)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,t)for(var s=0;s<16;++s)t[o+s]=d[s];return t||i(d)}},"./src/actions/handle-errors.js":function(e,t,n){"use strict";n.r(t);var r=n("../../.yarn/cache/@nike-cart-constants-npm-2.10.0-a5bfbd419e-234559d4ee.zip/node_modules/@nike/cart-constants/es/index.js"),i=n("./src/actions/on-cart-fetch-failure.js"),o=n("./src/actions/on-fetch-failure.js"),d=n("./src/constants.js");t.default=function handleErrors(e){var t=e.service,n=e.error,s=e.response;return function(e,a){var l=n.errors,c=n.data;return l&&l.length?l.forEach((function(l){var u=l.message,f=l.crcCode,p=l.code,v=l.field;if(f&&p!==d.GRAPHQL_ERROR_CODE){var m,b,h,y,j,_,w;if(t===r.SERVICE_FETCH_CART_CARTS)return e(Object(i.default)({code:p,error:{message:u,field:v},crcCode:f})),s;var O=a(),g=null===(m=O[d.SHOP_STATE_KEY])||void 0===m||null===(b=m.normalized)||void 0===b||null===(h=b.result)||void 0===h?void 0:h.cart,I=(null===(y=O[d.SHOP_STATE_KEY])||void 0===y||null===(j=y.normalized)||void 0===j||null===(_=j.cart)||void 0===_||null===(w=_[g])||void 0===w?void 0:w.items)||[],S=I[1===I.length?0:null==v?void 0:v.split("/")[2]];return e(Object(o.default)({service:t,code:p,crcCode:f,field:v,itemId:S,data:c,message:u}))}return p===d.GRAPHQL_ERROR_CODE?e({type:d.GRAPHQL_ERROR_CODE,payload:l}):e({type:"UNKNOWN_ERROR",payload:{service:t,error:n}})})):e(Object(o.default)({service:t,message:(null==n?void 0:n.message)||"Unknown failure",code:null==n?void 0:n.code,crcCode:null==n?void 0:n.crcCode,data:c}))}}},"./src/actions/initialize-wishlist.js":function(e,t,n){"use strict";n.r(t);var r=n("../../.yarn/cache/@babel-runtime-npm-7.16.7-62d4d1151f-47912f0aaa.zip/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(r),o=n("../../.yarn/cache/@babel-runtime-npm-7.16.7-62d4d1151f-47912f0aaa.zip/node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(o),s=n("../../.yarn/cache/@nike-ux-tread-wishlist-npm-2.1.0-00f4304b47-a53099327a.zip/node_modules/@nike/ux-tread-wishlist/es/api/lists/create-wishlist.js"),a=n("../../.yarn/__virtual__/@nike-wishlist-redux-virtual-6af140cdf8/0/cache/@nike-wishlist-redux-npm-3.0.14-2da5fde388-80eedf8d94.zip/node_modules/@nike/wishlist-redux/es/selectors.js"),l=n("../../.yarn/__virtual__/@nike-wishlist-redux-virtual-6af140cdf8/0/cache/@nike-wishlist-redux-npm-3.0.14-2da5fde388-80eedf8d94.zip/node_modules/@nike/wishlist-redux/es/constants.js"),c=n("../../.yarn/cache/@nike-ux-tread-dotcom-constants-npm-1.5.0-674cb7ec59-bca76993e9.zip/node_modules/@nike/ux-tread-dotcom-constants/es/index.js"),u=n("./src/selectors/get-current-user.js"),f=n("./src/actions/handle-errors.js"),p=n("./src/constants.js"),v=n("./src/graphql-client.js"),m=n("./src/dispatch-custom-event.js"),b=n("./src/create-custom-event.js");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.domain,n=e.first,r=void 0===n?1:n,o=e.after,d=void 0===o?0:o,h=e.versionedQuery;return function(e,n){var o,y,j,_,w,O=null===(o=window.NikeShop)||void 0===o?void 0:o.internalStore,g=null===(y=window.NikeShop.get())||void 0===y||null===(j=y.list)||void 0===j?void 0:j.id,I=null===(_=window.NikeShop)||void 0===_?void 0:_.country,S=Object(u.default)(null==O?void 0:O.getState()),E=S.token,k=S.userType,C={country:I,isDefault:!0},T=n(),R=Object(a.getWishlist)(T);return!g||null!=R&&null!==(w=R.status)&&void 0!==w&&w.fetched?(e({type:l.INITIALIZE_WISHLIST_START}),Object(v.default)({versionedQuery:h||"getlistsfulllistlistitems/v3",method:"POST",token:E,variables:_objectSpread(_objectSpread({},C),{},{first:r,after:d,isSwoosh:"Swoosh"===k})}).then((function(e){var n,r,i;return 0===(null==e||null===(n=e.data)||void 0===n||null===(r=n.lists)||void 0===r||null===(i=r.objects)||void 0===i?void 0:i.length)?Object(s.default)(_objectSpread(_objectSpread({},C),{},{brand:c.NIKE_BRAND,domain:t,host:p.API_HOST_NAME,token:E})):e})).then((function(t){var n,r,o,d,s,a,c,u,f,v,h,y=(null==t||null===(n=t.data)||void 0===n||null===(r=n.lists)||void 0===r||null===(o=r.objects)||void 0===o?void 0:o[0])||t||{},j=y.list,_=i()(y,["list"]),w=_objectSpread(_objectSpread({country:I},_),{},{items:null==j?void 0:j.items});return e({type:l.INITIALIZE_WISHLIST_SUCCESS,payload:{list:j||{},items:(null==y||null===(d=y.listItems)||void 0===d?void 0:d.objects)||[],name:null==y?void 0:y.name,id:null==y?void 0:y.id,pages:(null==y||null===(s=y.listItems)||void 0===s?void 0:s.pages)||{},totalItemsCount:(null==y||null===(a=y.listItems)||void 0===a?void 0:a.totalItemsCount)||0,errors:(null==t||null===(c=t.data)||void 0===c?void 0:c.errors)||(null==t?void 0:t.errors)}}),O.dispatch({type:p.UPDATE_ENTITIES,payload:{listItems:null==_||null===(u=_.listItems)||void 0===u?void 0:u.objects,list:w}}),Object(m.default)(Object(b.default)(null===(f=window.NikeShop)||void 0===f||null===(v=f.get())||void 0===v||null===(h=v.events)||void 0===h?void 0:h.listsInitialized,{bubbles:!1,detail:{wishlistId:null==y?void 0:y.id}})),t}),(function(t){var n,r,o,d,s,a,c,u,p,v=t.data,m=t.errors,b=i()(t,["data","errors"]),h=(null==v||null===(n=v.data)||void 0===n||null===(r=n.lists)||void 0===r||null===(o=r.objects)||void 0===o?void 0:o[0])||b||{};return v?(e({type:l.INITIALIZE_WISHLIST_FAILURE,error:!0,payload:{list:(null==h?void 0:h.list)||{},items:(null==h||null===(d=h.listItems)||void 0===d?void 0:d.objects)||[],name:null==h?void 0:h.name,id:null==h?void 0:h.id,pages:(null==h||null===(s=h.listItems)||void 0===s?void 0:s.pages)||{},totalItemsCount:null==h||null===(a=h.listItems)||void 0===a?void 0:a.totalItemsCount,errors:(null==v||null===(c=v.errors)||void 0===c||null===(u=c[0])||void 0===u||null===(p=u.body)||void 0===p?void 0:p.errors)||m}}),_objectSpread({data:v,errors:m},b)):(e({type:l.INITIALIZE_WISHLIST_FAILURE,error:!0,payload:b}),O.dispatch(Object(f.default)({service:"buy/list_items/v1",error:_objectSpread({errors:m},b)})),_objectSpread({errors:m},b))}))):window.NikeShop.fetchMoreListItems({first:r,after:d,versionedQuery:"getlistpaginatedlistitems/v3"}).then((function(e){var t,n,r,i,o;return Object(m.default)(Object(b.default)(null===(t=window.NikeShop)||void 0===t||null===(n=t.get())||void 0===n||null===(r=n.events)||void 0===r?void 0:r.listsInitialized,{bubbles:!1,detail:{wishlistId:(null==e||null===(i=e.data)||void 0===i||null===(o=i.list)||void 0===o?void 0:o.id)||g}})),e}))}}},"./src/actions/on-cart-fetch-failure.js":function(e,t,n){"use strict";n.r(t);var r=n("../../.yarn/cache/@nike-cart-constants-npm-2.10.0-a5bfbd419e-234559d4ee.zip/node_modules/@nike/cart-constants/es/index.js");t.default=function onCartFetchFailure(e){var t=e.error,n=e.crcCode,i=e.data,o=e.code;return{type:r.FETCH_CARTS_FAILURE,meta:{service:r.SERVICE_FETCH_CART_CARTS},error:!0,payload:{error:t,crcCode:n,data:i,code:o}}}},"./src/actions/on-fetch-failure.js":function(e,t,n){"use strict";n.r(t);var r=n("./src/constants.js");t.default=function onFetchFailure(e){var t=e.service,n=e.message,i=e.crcCode,o=e.data,d=e.code,s=e.field,a=e.itemId;return{type:r.ON_FETCH_FAILURE,meta:{service:t},error:!0,payload:{message:n,crcCode:i,data:o,code:d,field:s,itemId:a}}}},"./src/graphql-client.js":function(e,t,n){"use strict";n.r(t);var r=n("../../.yarn/cache/@babel-runtime-npm-7.16.7-62d4d1151f-47912f0aaa.zip/node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("../../.yarn/cache/@nike-graphql-fetch-npm-3.0.3-090da7e235-8bd9925197.zip/node_modules/@nike/graphql-fetch/es/index.js"),d=n("../../.yarn/cache/@nike-fetch-client-npm-1.13.1-ef5acec45d-ba46c4cc1f.zip/node_modules/@nike/fetch-client/es/fetch-client.js"),s=n("../../.yarn/cache/@nike-ux-tread-dotcom-constants-npm-1.5.0-674cb7ec59-bca76993e9.zip/node_modules/@nike/ux-tread-dotcom-constants/es/index.js");function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.default=function graphqlClient(e){var t;return Object(o.default)(function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fetchClient:d.default,url:"https://api.nike.com/cic/grand/v1/graphql",callerId:null===(t=window.NikeShop)||void 0===t?void 0:t.getVersion(),appId:s.DOTCOM_UX_ID},e))}}}]);
//# sourceMappingURL=initializeWishlist.chunk.26d2cf.js.map